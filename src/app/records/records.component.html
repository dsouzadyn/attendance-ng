<div class="columns">

  <div class="column is-12">
    <table class="table">
      <thead>
        <tr>
          <th colspan="2">
          </th>

          <ng-container *ngFor="let subject of subjectList">
            <ng-container *ngIf="subject.subject.sub_type === 1 || subject.subject.sub_type === 4">
              <th colspan="3"><abbr title="{{ subject.subject.subject_name }}">{{ subject.subject.abbr }}</abbr></th>
            </ng-container>
            <ng-container *ngIf="subject.subject.sub_type === 2">
              <th colspan="2"><abbr title="{{ subject.subject.subject_name }}">{{ subject.subject.abbr }}</abbr></th>
            </ng-container>
            <ng-container *ngIf="subject.subject.sub_type === 3">
              <th colspan="2"><abbr title="{{ subject.subject.subject_name }}">{{ subject.subject.abbr }}</abbr></th>
            </ng-container>
          </ng-container>
        </tr>
        <tr>
          <th>Sr.</th>
          <th>Name</th>
          <ng-container *ngFor="let subject of subjectList">
            <ng-container *ngIf="subject.subject.sub_type === 1 || subject.subject.sub_type === 4">
              <th>TH</th>
              <th>PR</th>
              <th>TOTAL</th>
            </ng-container>
            <ng-container *ngIf="subject.subject.sub_type === 2">
              <th>TH</th>
              <th>TOTAL</th>
            </ng-container>
            <ng-container *ngIf="subject.subject.sub_type === 3">
              <th>PR</th>
              <th>TOTAL</th>
            </ng-container>
          </ng-container>
        </tr>
        <ng-container *ngIf="attendanceList">
          <tr *ngFor="let attendance of attendanceList">
            <ng-container *ngIf="attendance.batch_no === 1">
              <td>{{attendance.student.roll_no}}</td>
              <td>{{attendance.student.first_name + ' ' + attendance.student.last_name}}</td>
              <ng-container *ngFor="let subs of attendance.subs">

                  <td *ngIf="subs.subject.sub_type === 1 || subs.subject.sub_type === 2 || subs.subject.sub_type === 4" >{{subs.theory[0]['actual']}}</td>
                  <td *ngIf="subs.subject.sub_type === 1 || subs.subject.sub_type === 3 || subs.subject.sub_type === 4" >{{subs.practical[0]['actual']}}</td>
                  <td>{{subs.theory[0]['actual'] + subs.practical[0]['actual']}}</td>
              </ng-container>
            </ng-container>
          </tr>
          <tr *ngFor="let attendance of attendanceList">
            <ng-container *ngIf="attendance.batch_no === 2">
              <td>{{attendance.student.roll_no}}</td>
              <td>{{attendance.student.first_name + ' ' + attendance.student.last_name}}</td>
              <ng-container *ngFor="let subs of attendance.subs">

                  <td *ngIf="subs.subject.sub_type === 1 || subs.subject.sub_type === 2 || subs.subject.sub_type === 4" >{{subs.theory[0]['actual']}}</td>
                  <td *ngIf="subs.subject.sub_type === 1 || subs.subject.sub_type === 3 || subs.subject.sub_type === 4" >{{subs.practical[0]['actual']}}</td>
                  <td>{{subs.theory[0]['actual'] + subs.practical[0]['actual']}}</td>
              </ng-container>
            </ng-container>
          </tr>
          <tr *ngFor="let attendance of attendanceList">
            <ng-container *ngIf="attendance.batch_no === 3">
              <td>{{attendance.student.roll_no}}</td>
              <td>{{attendance.student.first_name + ' ' + attendance.student.last_name}}</td>
              <ng-container *ngFor="let subs of attendance.subs">

                  <td *ngIf="subs.subject.sub_type === 1 || subs.subject.sub_type === 2 || subs.subject.sub_type === 4" >{{subs.theory[0]['actual']}}</td>
                  <td *ngIf="subs.subject.sub_type === 1 || subs.subject.sub_type === 3 || subs.subject.sub_type === 4" >{{subs.practical[0]['actual']}}</td>
                  <td>{{subs.theory[0]['actual'] + subs.practical[0]['actual']}}</td>
              </ng-container>
            </ng-container>
          </tr>
          <h3 class="subtitle">Batch 3</h3>
          <tr *ngFor="let attendance of attendanceList">
            <ng-container *ngIf="attendance.batch_no === 4">
              <td>{{attendance.student.roll_no}}</td>
              <td>{{attendance.student.first_name + ' ' + attendance.student.last_name}}</td>
              <ng-container *ngFor="let subs of attendance.subs">

                  <td *ngIf="subs.subject.sub_type === 1 || subs.subject.sub_type === 2 || subs.subject.sub_type === 4" >{{subs.theory[0]['actual']}}</td>
                  <td *ngIf="subs.subject.sub_type === 1 || subs.subject.sub_type === 3 || subs.subject.sub_type === 4" >{{subs.practical[0]['actual']}}</td>
                  <td>{{subs.theory[0]['actual'] + subs.practical[0]['actual']}}</td>
              </ng-container>
            </ng-container>
          </tr>
        </ng-container>
      </thead>
    </table>

  </div>
</div>
